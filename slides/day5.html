<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Day 5: Advanced AI Agents & RAG Systems</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #1a202c;
            color: #e2e8f0;
        }
        .section-title {
            position: relative;
            padding-bottom: 0.5rem;
            margin-bottom: 1.5rem;
        }
        .section-title::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: 0;
            width: 50px;
            height: 3px;
            background-color: #63b3ed;
            border-radius: 9999px;
        }
        .card {
            background-color: #2d3748;
            border-radius: 0.75rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }
        .collapsible-header {
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem 0;
            font-weight: 600;
            color: #90cdf4;
        }
        .collapsible-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }
        .collapsible-content.open {
            max-height: 2000px;
            transition: max-height 0.5s ease-in;
        }
        .code-block {
            background-color: #232d3a;
            border-radius: 0.5rem;
            padding: 1rem;
            overflow-x: auto;
            font-family: 'Fira Code', 'Cascadia Code', monospace;
            font-size: 0.9em;
            color: #a0aec0;
        }
        .highlight { color: #4fd1c5; }
        .accent-text { color: #63b3ed; }
        .spark-creativity {
            background-color: #3a4a5c;
            border-left: 4px solid #f6ad55;
            padding: 1rem;
            margin-top: 1rem;
            border-radius: 0.5rem;
            color: #cbd5e0;
        }
        .syntax-list {
            list-style-type: none;
            padding-left: 0;
        }
        .syntax-list li {
            position: relative;
            padding-left: 1.5em;
            margin-bottom: 0.5em;
        }
        .syntax-list li::before {
            content: 'â€º';
            position: absolute;
            left: 0;
            color: #4fd1c5;
            font-weight: bold;
        }
        @media print {
            body { background-color: white; color: black; }
            .card { background-color: #f7fafc; box-shadow: none; border: 1px solid #e2e8f0; }
            header, nav { display: none; }
            .collapsible-content { max-height: none !important; overflow: visible; }
            .collapsible-header .arrow { display: none; }
            .highlight, .accent-text { color: #2b6cb0; }
            .code-block { background-color: #f7fafc; border: 1px solid #e2e8f0; color: #1a202c; }
            .spark-creativity { background-color: #fffaf0; border-left-color: #dd6b20; }
            button { display: none; }
        }
    </style>
</head>
<body class="antialiased">
    <header class="bg-gray-800 p-4 sticky top-0 z-50 shadow-xl">
        <div class="container mx-auto flex justify-between items-center">
            <h1 class="text-2xl font-bold text-white"><span class="accent-text">AI-Driven</span> SWE Program</h1>
            <nav>
                <ul class="flex space-x-6">
                    <li><a href="#day4-recap" class="text-gray-300 hover:text-white transition duration-300">Day 4 Recap</a></li>
                    <li><a href="#tool-agents" class="text-gray-300 hover:text-white transition duration-300">Tool Agents</a></li>
                    <li><a href="#lab1" class="text-gray-300 hover:text-white transition duration-300">Lab 1</a></li>
                    <li><a href="#multi-agent" class="text-gray-300 hover:text-white transition duration-300">Multi-Agent</a></li>
                    <li><a href="#lab2" class="text-gray-300 hover:text-white transition duration-300">Lab 2</a></li>
                    <li><a href="#wrap-up" class="text-gray-300 hover:text-white transition duration-300">Wrap-up</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="container mx-auto p-6">
        <section id="day5-intro" class="text-center my-10">
            <h2 class="text-5xl font-extrabold text-white mb-4">Day 5: Advanced AI Agents & RAG Systems</h2>
            <p class="text-xl text-gray-400">
                <span class="accent-text">Theme:</span> Building intelligent agents that reason, plan, and use tools.
            </p>
            <p class="text-lg text-gray-400 mt-2">
                <span class="accent-text">Core Question:</span> How do we build AI agents that can autonomously use tools, collaborate, and retrieve knowledge to solve complex problems?
            </p>
        </section>

        <!-- Day 4 Recap -->
        <section id="day4-recap" class="my-12 card">
            <h3 class="text-3xl font-bold section-title">Day 4 Recap & Q&A</h3>
            <div class="mb-6">
                <h4 class="text-xl font-semibold text-gray-200 mb-2">Recap (15 min)</h4>
                <p class="text-gray-300 mb-4">
                    Yesterday, we focused on ensuring software quality through AI-powered testing and continuous integration. Key areas we explored:
                </p>
                <ul class="syntax-list">
                    <li><span class="highlight">AI-Generated Test Suites:</span> Using LLMs to create comprehensive pytest tests for happy paths and edge cases.</li>
                    <li><span class="highlight">Test Isolation with Fixtures:</span> Professional best practices for in-memory databases and dependency injection.</li>
                    <li><span class="highlight">Configuration as Code:</span> AI-generated requirements.txt, Dockerfiles, and GitHub Actions workflows.</li>
                    <li><span class="highlight">CI/CD Automation:</span> Building pipelines that automatically build, test, and validate code on every push.</li>
                </ul>
                <div class="bg-gray-800 p-4 rounded-lg border border-gray-700">
                    <p class="text-lg font-medium text-white mb-2">Thought-provoking question:</p>
                    <p class="text-gray-300 italic">"How might automated testing and CI/CD pipelines change when AI agents can autonomously fix failing tests or suggest code improvements?"</p>
                    <button class="mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition duration-300" onclick="alert('Instructor Thoughts: We may see self-healing CI/CD pipelines where agents identify failures, propose fixes, and even create pull requests. Human oversight shifts to reviewing AI proposals rather than writing fixes.')">Reveal Instructor Thoughts</button>
                </div>
            </div>
            <div>
                <h4 class="text-xl font-semibold text-gray-200 mb-2">Q&A (15 min)</h4>
                <p class="text-gray-300">Open discussion on Day 4 concepts, testing strategies, and CI/CD challenges encountered.</p>
            </div>
        </section>

        <!-- Content: Tool-Using Agents -->
        <section id="tool-agents" class="my-12 card">
            <h3 class="text-3xl font-bold section-title">Content: Tool-Using AI Agents</h3>
            <p class="text-gray-300 mb-6">
                Today we dive into building AI agents that can autonomously reason and act. Unlike simple chatbots, these agents use the ReAct (Reasoning and Acting) framework to iteratively think through problems and take actions using tools.
            </p>

            <div class="mb-6">
                <h4 class="text-xl font-semibold text-gray-200 mb-2">The ReAct Framework: Reason + Act</h4>
                <p class="text-gray-300 mb-2">
                    ReAct agents follow a thought-action-observation loop that mirrors human problem-solving:
                </p>
                <ul class="syntax-list">
                    <li><span class="highlight">Thought:</span> The agent reasons about what it needs to do next based on the current state.</li>
                    <li><span class="highlight">Action:</span> The agent selects and invokes a tool with specific parameters.</li>
                    <li><span class="highlight">Observation:</span> The agent receives the tool's output and incorporates it into its reasoning.</li>
                    <li><span class="highlight">Iteration:</span> This loop continues until the agent has enough information to provide a final answer.</li>
                </ul>
                <p class="text-gray-300 italic mt-2">
                    <span class="font-semibold highlight">Why It Matters:</span> "ReAct agents outperform pure reasoning or pure acting approaches because they ground their decisions in real observations."
                </p>
            </div>

            <div class="mb-6">
                <h4 class="text-xl font-semibold text-gray-200 mb-2">Tools: Extending Agent Capabilities</h4>
                <p class="text-gray-300 mb-2">
                    Tools give agents the ability to interact with the external world:
                </p>
                <ul class="syntax-list">
                    <li><span class="highlight">Search Tools:</span> Query the web, databases, or knowledge bases for information.</li>
                    <li><span class="highlight">Calculation Tools:</span> Perform mathematical operations, unit conversions, or data analysis.</li>
                    <li><span class="highlight">API Tools:</span> Interact with external services (weather, stocks, calendars, etc.).</li>
                    <li><span class="highlight">Code Execution:</span> Run Python code to process data or generate outputs.</li>
                </ul>
            </div>

            <div class="collapsible-container">
                <div class="collapsible-header">
                    <span>LangChain Tool-Using Agent Example</span>
                    <span class="arrow">&#9660;</span>
                </div>
                <div class="collapsible-content">
                    <div class="code-block">
                        <pre><code>from langchain_openai import ChatOpenAI
from langchain_core.tools import tool
from langgraph.prebuilt import create_react_agent

# Define custom tools
@tool
def calculator(expression: str) -> str:
    """Evaluate a mathematical expression. Use for calculations."""
    try:
        return str(eval(expression))
    except Exception as e:
        return f"Error: {e}"

@tool
def get_weather(city: str) -> str:
    """Get current weather for a city."""
    # Mock implementation - replace with real API
    return f"Weather in {city}: 72Â°F, Sunny"

# Create the ReAct agent
model = ChatOpenAI(model="gpt-4")
tools = [calculator, get_weather]
agent = create_react_agent(model, tools)

# Run the agent
response = agent.invoke({
    "messages": [{"role": "user", "content": "What's the weather in NYC and what's 15% of 85?"}]
})
print(response["messages"][-1].content)</code></pre>
                    </div>
                    <div class="spark-creativity">
                        <p class="font-semibold">ðŸ’¡ Key Insight:</p>
                        <p>The agent automatically decides which tools to use based on the query. It might call get_weather for NYC, then calculator for the percentage, then synthesize both results.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Lab 1: Tool-Using Agents -->
        <section id="lab1" class="my-12 card">
            <h3 class="text-3xl font-bold section-title">Assisted Practice: Building Tool-Using Agents</h3>
            <p class="text-gray-300 mb-4">
                <span class="font-semibold">Lab Overview:</span> In this lab, you'll build a LangChain ReAct agent equipped with multiple tools. You'll learn how agents reason about which tools to use and how to create effective tool descriptions.
            </p>
            <p class="text-gray-400 text-sm italic mb-6">
                (Detailed instructions in: D5_Lab1_Tool_Using_Agents.ipynb)
            </p>

            <div class="collapsible-container">
                <div class="collapsible-header">
                    <span>Challenge 1: Create a Search Agent</span>
                    <span class="arrow">&#9660;</span>
                </div>
                <div class="collapsible-content">
                    <p class="text-gray-300 mb-2">
                        <span class="font-semibold">Task:</span> Build an agent with DuckDuckGo search capabilities that can answer questions requiring web search.
                    </p>
                    <ul class="syntax-list">
                        <li><span class="highlight">DuckDuckGoSearchRun:</span> A built-in LangChain tool for web searches.</li>
                        <li><span class="highlight">Tool Descriptions:</span> Clear descriptions help the LLM understand when to use each tool.</li>
                    </ul>
                    <div class="spark-creativity">
                        <p class="font-semibold">ðŸ’¡ Spark Your Creativity:</p>
                        <p>How would you modify the agent to cite its sources when providing information from web searches?</p>
                    </div>
                </div>
            </div>

            <div class="collapsible-container">
                <div class="collapsible-header">
                    <span>Challenge 2: Multi-Tool Agent</span>
                    <span class="arrow">&#9660;</span>
                </div>
                <div class="collapsible-content">
                    <p class="text-gray-300 mb-2">
                        <span class="font-semibold">Task:</span> Create an agent with multiple tools (search, calculator, date/time) and observe how it chains tool calls.
                    </p>
                    <ul class="syntax-list">
                        <li><span class="highlight">Tool Chaining:</span> Agent calls multiple tools sequentially to build up information.</li>
                        <li><span class="highlight">Observation Integration:</span> Each tool result informs the next reasoning step.</li>
                    </ul>
                </div>
            </div>

            <div class="collapsible-container">
                <div class="collapsible-header">
                    <span>Challenge 3: Custom Tool Development</span>
                    <span class="arrow">&#9660;</span>
                </div>
                <div class="collapsible-content">
                    <p class="text-gray-300 mb-2">
                        <span class="font-semibold">Task:</span> Design and implement a custom tool that connects to an external API or performs domain-specific operations.
                    </p>
                    <ul class="syntax-list">
                        <li><span class="highlight">@tool decorator:</span> Simple way to convert Python functions into agent tools.</li>
                        <li><span class="highlight">Type hints:</span> Help the LLM understand parameter types and return values.</li>
                        <li><span class="highlight">Docstrings:</span> Critical for the LLM to understand when and how to use the tool.</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Content: Multi-Agent Systems -->
        <section id="multi-agent" class="my-12 card">
            <h3 class="text-3xl font-bold section-title">Content: Plan-and-Execute & Multi-Agent Systems</h3>
            <p class="text-gray-300 mb-6">
                While single agents with tools are powerful, complex tasks often benefit from multiple specialized agents working together. Today we explore two advanced patterns: Plan-and-Execute and Multi-Agent Collaboration.
            </p>

            <div class="mb-6">
                <h4 class="text-xl font-semibold text-gray-200 mb-2">Plan-and-Execute Pattern</h4>
                <p class="text-gray-300 mb-2">
                    This pattern separates planning from execution for better handling of complex, multi-step tasks:
                </p>
                <ul class="syntax-list">
                    <li><span class="highlight">Planner Agent:</span> Analyzes the task and creates a step-by-step plan.</li>
                    <li><span class="highlight">Executor Agent:</span> Executes each step of the plan using available tools.</li>
                    <li><span class="highlight">Re-planning:</span> If execution fails or new information emerges, the planner can revise the plan.</li>
                </ul>
            </div>

            <div class="mb-6">
                <h4 class="text-xl font-semibold text-gray-200 mb-2">Multi-Agent Collaboration with AutoGen</h4>
                <p class="text-gray-300 mb-2">
                    AutoGen enables sophisticated multi-agent conversations where specialists collaborate:
                </p>
                <ul class="syntax-list">
                    <li><span class="highlight">AssistantAgent:</span> AI agents with specific roles and capabilities.</li>
                    <li><span class="highlight">UserProxyAgent:</span> Represents human users or executes code on their behalf.</li>
                    <li><span class="highlight">Group Chats:</span> Multiple agents discuss and iterate on solutions.</li>
                    <li><span class="highlight">Code Execution:</span> Agents can write and run code to verify solutions.</li>
                </ul>
            </div>

            <div class="collapsible-container">
                <div class="collapsible-header">
                    <span>AutoGen Multi-Agent Example</span>
                    <span class="arrow">&#9660;</span>
                </div>
                <div class="collapsible-content">
                    <div class="code-block">
                        <pre><code>import asyncio
from autogen_agentchat.agents import AssistantAgent
from autogen_agentchat.teams import RoundRobinGroupChat
from autogen_agentchat.conditions import TextMentionTermination
from autogen_ext.models.openai import OpenAIChatCompletionClient

async def main():
    model = OpenAIChatCompletionClient(model="gpt-4o")
    
    # Create specialized agents
    planner = AssistantAgent(
        name="Planner",
        model_client=model,
        system_message="You create detailed plans for tasks. Break complex problems into steps."
    )
    
    coder = AssistantAgent(
        name="Coder", 
        model_client=model,
        system_message="You write clean, efficient Python code to implement plans."
    )
    
    reviewer = AssistantAgent(
        name="Reviewer",
        model_client=model,
        system_message="You review code for bugs and improvements. Say APPROVE when done."
    )
    
    # Create team
    team = RoundRobinGroupChat(
        participants=[planner, coder, reviewer],
        termination_condition=TextMentionTermination("APPROVE"),
        max_turns=10
    )
    
    result = await team.run(task="Create a function to calculate fibonacci numbers")
    print(result)

asyncio.run(main())</code></pre>
                    </div>
                </div>
            </div>

            <div class="bg-gray-800 p-4 rounded-lg border border-gray-700 mt-4">
                <p class="text-lg font-medium text-white mb-2">Thought-provoking question:</p>
                <p class="text-gray-300 italic">"What are the trade-offs between single powerful agents vs. teams of specialized agents? When would you choose one over the other?"</p>
                <button class="mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition duration-300" onclick="alert('Instructor Thoughts: Single agents are simpler and faster for straightforward tasks. Multi-agent teams excel at complex, multi-domain problems where different expertise is needed. Teams also provide natural checkpoints and review processes.')">Reveal Instructor Thoughts</button>
            </div>
        </section>

        <!-- Lab 2: Multi-Agent Systems -->
        <section id="lab2" class="my-12 card">
            <h3 class="text-3xl font-bold section-title">Assisted Practice: Plan-and-Execute & Multi-Agent Systems</h3>
            <p class="text-gray-300 mb-4">
                <span class="font-semibold">Lab Overview:</span> Build multi-agent systems using AutoGen where specialized agents collaborate to solve complex problems.
            </p>
            <p class="text-gray-400 text-sm italic mb-6">
                (Detailed instructions in: D5_Lab2_Plan_and_Execute_Multi_Agent.ipynb)
            </p>

            <div class="collapsible-container">
                <div class="collapsible-header">
                    <span>Challenge 1: Two-Agent Conversation</span>
                    <span class="arrow">&#9660;</span>
                </div>
                <div class="collapsible-content">
                    <p class="text-gray-300 mb-2">
                        <span class="font-semibold">Task:</span> Create a simple two-agent system where one agent poses questions and another answers.
                    </p>
                    <ul class="syntax-list">
                        <li><span class="highlight">Turn-taking:</span> Agents alternate in the conversation.</li>
                        <li><span class="highlight">Termination conditions:</span> Define when the conversation should end.</li>
                    </ul>
                </div>
            </div>

            <div class="collapsible-container">
                <div class="collapsible-header">
                    <span>Challenge 2: Code Review Team</span>
                    <span class="arrow">&#9660;</span>
                </div>
                <div class="collapsible-content">
                    <p class="text-gray-300 mb-2">
                        <span class="font-semibold">Task:</span> Build a multi-agent code review system with a Coder, Reviewer, and Tester agent.
                    </p>
                    <ul class="syntax-list">
                        <li><span class="highlight">Role Specialization:</span> Each agent focuses on their specific expertise.</li>
                        <li><span class="highlight">Iterative Refinement:</span> Agents improve the code through multiple rounds.</li>
                    </ul>
                    <div class="spark-creativity">
                        <p class="font-semibold">ðŸ’¡ Spark Your Creativity:</p>
                        <p>How would you add a "Product Manager" agent that ensures the code meets requirements before approval?</p>
                    </div>
                </div>
            </div>

            <div class="collapsible-container">
                <div class="collapsible-header">
                    <span>Challenge 3: Plan-and-Execute Pipeline</span>
                    <span class="arrow">&#9660;</span>
                </div>
                <div class="collapsible-content">
                    <p class="text-gray-300 mb-2">
                        <span class="font-semibold">Task:</span> Implement a plan-and-execute pattern where a planner creates steps and an executor carries them out.
                    </p>
                    <ul class="syntax-list">
                        <li><span class="highlight">Dynamic Planning:</span> The planner adapts based on execution results.</li>
                        <li><span class="highlight">Error Recovery:</span> Handle failures gracefully with re-planning.</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Wrap-up -->
        <section id="wrap-up" class="my-12 card">
            <h3 class="text-3xl font-bold section-title">Daily Wrap-up & Q&A</h3>
            <div class="mb-6">
                <h4 class="text-xl font-semibold text-gray-200 mb-2">Key Takeaways</h4>
                <ul class="syntax-list">
                    <li>ReAct agents use a thought-action-observation loop to solve problems iteratively.</li>
                    <li>Tools extend agent capabilities to interact with the external world.</li>
                    <li>Multi-agent systems enable collaboration between specialized agents.</li>
                    <li>Plan-and-Execute patterns help manage complex, multi-step tasks.</li>
                </ul>
            </div>
            <div>
                <h4 class="text-xl font-semibold text-gray-200 mb-2">Preview Day 6</h4>
                <p class="text-gray-300">
                    Tomorrow, we dive deep into RAG (Retrieval-Augmented Generation) systems! You'll learn how to build agents that can retrieve and reason over your own documents and knowledge bases.
                </p>
            </div>
        </section>
    </main>

    <footer class="bg-gray-800 p-4 text-center text-gray-400 text-sm">
        <p>&copy; 2025 Booz Allen Hamilton Inc. All rights reserved.</p>
    </footer>

    <script>
        document.querySelectorAll('.collapsible-header').forEach(header => {
            header.addEventListener('click', function() {
                const content = this.nextElementSibling;
                const arrow = this.querySelector('.arrow');
                if (content.classList.contains('open')) {
                    content.classList.remove('open');
                    arrow.innerHTML = '&#9660;';
                } else {
                    content.classList.add('open');
                    arrow.innerHTML = '&#9650;';
                }
            });
        });
    </script>
</body>
</html>
